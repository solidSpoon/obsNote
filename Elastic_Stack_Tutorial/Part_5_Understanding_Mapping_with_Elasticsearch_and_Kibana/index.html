
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.0, mkdocs-material-8.5.3" name="generator"/>
<title>Part 5 Understanding Mapping with Elasticsearch and Kibana - obsidian-mkdocs template</title>
<link href="../../assets/stylesheets/main.7a952b86.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.cbb835fc.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="pink" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#part-5-understanding-mapping-with-elasticsearch-and-kibana">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="obsidian-mkdocs template" class="md-header__button md-logo" data-md-component="logo" href="../.." title="obsidian-mkdocs template">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            obsidian-mkdocs template
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Part 5 Understanding Mapping with Elasticsearch and Kibana
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="pink" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="blue" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="pink" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="obsidian-mkdocs template" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="obsidian-mkdocs template">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    obsidian-mkdocs template
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
        Obsidian Notes
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Elastic Stack
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Elastic Stack" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Elastic Stack
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/">
        Index
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2">
          1 Getting Started
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="1 Getting Started" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
          1 Getting Started
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/1_Getting_Started/1.1_Inspecting_The_Cluster/">
        Inspecting the cluster
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/1_Getting_Started/adding-more-nodes-to-the-cluster/">
        Adding more nodes to the cluster (for development)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/1_Getting_Started/overview-of-node-roles/">
        Overview of node roles
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/1_Getting_Started/sending-queries-with-curl/">
        Sending queries with cURL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/1_Getting_Started/setting-up-elasticsearch-kibana-macos-linux/">
        Setting up Elasticsearch &amp; Kibana on macOS &amp; Linux
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/1_Getting_Started/setting-up-elasticsearch-kibana-windows/">
        Setting up Elasticsearch &amp; Kibana on Windows
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/1_Getting_Started/sharding-and-scalability/">
        Sharding and scalability
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/1_Getting_Started/understanding-replication/">
        Understanding replication
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3">
          3 Managing Documents
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="3 Managing Documents" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
          3 Managing Documents
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/batch-processing/">
        Batch processing
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/creating-and-deleting-indices/">
        Creating &amp; Deleting Indices
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/delete-by-query/">
        Delete by query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/deleting-documents/">
        Deleting documents
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/importing-data-with-curl/">
        Importing data with cURL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/indexing-documents/">
        Indexing documents
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/optimistic-concurrency-control/">
        Optimistic concurrency control
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/replacing-documents/">
        Replacing documents
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/retrieving-documents-by-id/">
        Retrieving documents by ID
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/scripted-updates/">
        Scripted updates
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/update-by-query/">
        Update by query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/updating-documents/">
        Updating documents
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/3_Managing_Documents/upserts/">
        Upserts
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" id="__nav_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_4">
          Adding Boolean Logic to Queries
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Adding Boolean Logic to Queries" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
          Adding Boolean Logic to Queries
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Adding%20Boolean%20Logic%20to%20Queries/debugging-bool-queries-with-named-queries/">
        Debugging `bool` queries with named queries
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Adding%20Boolean%20Logic%20to%20Queries/how-the-match-query-works/">
        How the `match` query works
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Adding%20Boolean%20Logic%20to%20Queries/querying-with-boolean-logic/">
        Querying with boolean logic
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" id="__nav_2_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_5">
          Aggregations
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Aggregations" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
          Aggregations
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/aggregating-nested-objects/">
        Aggregating nested objects
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/defining-bucket-rules-with-filters/">
        Defining bucket rules with filters
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/filtering-out-documents/">
        Filtering out documents
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/global-aggregation/">
        `global` aggregation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/histograms/">
        Histograms
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/introduction-to-aggregations/">
        Introduction to aggregations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/introduction-to-bucket-aggregations/">
        Introduction to bucket aggregations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/metric-aggregations/">
        Metric aggregations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/missing-field-values/">
        Missing field values
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/nested-aggregations/">
        Nested aggregations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Aggregations/range-aggregations/">
        Range aggregations
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" id="__nav_2_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_6">
          Controlling Query Results
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Controlling Query Results" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
          Controlling Query Results
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Controlling%20Query%20Results/filters/">
        Filters
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Controlling%20Query%20Results/sorting-by-multi-value-fields/">
        Sorting by multi-value fields
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Controlling%20Query%20Results/sorting-results/">
        Sorting results
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Controlling%20Query%20Results/source-filtering/">
        Source filtering
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Controlling%20Query%20Results/specifying-an-offset/">
        Specifying an offset
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Controlling%20Query%20Results/specifying-the-result-format/">
        Specifying the result format
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Controlling%20Query%20Results/specifying-the-result-size/">
        Specifying the result size
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7" id="__nav_2_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_7">
          Full Text Queries
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Full Text Queries" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_7">
<span class="md-nav__icon md-icon"></span>
          Full Text Queries
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Full%20Text%20Queries/exercises/">
        Exercises
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Full%20Text%20Queries/flexible-matching-with-match-query/">
        Flexible matching with `match` query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Full%20Text%20Queries/introduction-to-full-text-queries/">
        Introduction to full text queries
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Full%20Text%20Queries/matching-phrases/">
        Matching phrases
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Full%20Text%20Queries/searching-multiple-fields/">
        Searching multiple fields
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_8" id="__nav_2_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_8">
          Improving Search Results
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Improving Search Results" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_8">
<span class="md-nav__icon md-icon"></span>
          Improving Search Results
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Improving%20Search%20Results/adding-synonyms-from-file/">
        Adding synonyms from file
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Improving%20Search%20Results/adding-synonyms/">
        Adding synonyms
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Improving%20Search%20Results/affecting-relevance-scoring-with-proximity/">
        Affecting relevance scoring with proximity
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Improving%20Search%20Results/fuzzy-match-query/">
        Fuzzy `match` query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Improving%20Search%20Results/fuzzy-query/">
        `fuzzy` query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Improving%20Search%20Results/highlighting-matches-in-fields/">
        Highlighting matches in fields
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Improving%20Search%20Results/proximity-searches/">
        Proximity searches
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Improving%20Search%20Results/stemming/">
        Stemming
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_9" id="__nav_2_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_9">
          Introduction to Searching
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Introduction to Searching" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_9">
<span class="md-nav__icon md-icon"></span>
          Introduction to Searching
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Introduction%20to%20Searching/debugging-unexpected-query-results/">
        Debugging unexpected query results
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Introduction%20to%20Searching/full-text-queries-vs-term-level-queries/">
        Full text queries vs term level queries
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Introduction%20to%20Searching/introducing-the-query-dsl/">
        Introducing the Query DSL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Introduction%20to%20Searching/searching-with-the-request-uri/">
        Searching with the request URI
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Introduction%20to%20Searching/understanding-relevance-scores/">
        Understanding relevance scores
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_10" id="__nav_2_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_10">
          Joining Queries
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Joining Queries" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_10">
<span class="md-nav__icon md-icon"></span>
          Joining Queries
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/adding-documents/">
        Adding documents
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/mapping-document-relationships/">
        Mapping document relationships
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/multi-level-relations/">
        Multi-level relations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/nested-inner-hits/">
        Nested inner hits
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/parent-child-inner-hits/">
        Parent/child inner hits
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/querying-by-parent-id/">
        Querying by parent
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/querying-child-documents-by-parent/">
        Querying child documents by parent
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/querying-nested-objects/">
        Querying nested objects
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/querying-parent-by-child-documents/">
        Querying parent by child documents
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Joining%20Queries/terms-lookup-mechanism/">
        Terms lookup mechanism
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_11" id="__nav_2_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_11">
          Mapping &amp; Analysis
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Mapping &amp; Analysis" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_11">
<span class="md-nav__icon md-icon"></span>
          Mapping &amp; Analysis
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/adding-analyzers-to-existing-indices/">
        Adding analyzers to existing indices
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/adding-explicit-mappings/">
        Adding explicit mappings
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/adding-mappings-to-existing-indices/">
        Adding mappings to existing indices
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/combining-explicit-and-dynamic-mapping/">
        Combining explicit and dynamic mapping
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/configuring-dynamic-mapping/">
        Configuring dynamic mapping
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/creating-custom-analyzers/">
        Creating custom analyzers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/defining-field-aliases/">
        Defining field aliases
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/dynamic-templates/">
        Dynamic templates
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/how-dates-work-in-elasticsearch/">
        How dates work in Elasticsearch
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/how-the-keyword-data-type-works/">
        How the `keyword` data type works
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/index-templates/">
        Index templates
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/multi-field-mappings/">
        Multi-field mappings
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/reindexing-documents-with-the-reindex-api/">
        Reindexing documents with the Reindex API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/retrieving-mappings/">
        Retrieving mappings
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/understanding-arrays/">
        Understanding arrays
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/understanding-type-coercion/">
        Understanding type coercion
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/updating-analyzers/">
        Updating analyzers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/updating-existing-mappings/">
        Updating existing mappings
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/using-dot-notation-in-field-names/">
        Using dot notation in field names
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Mapping%20%26%20Analysis/using-the-analyze-api/">
        Using the Analyze API
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_12" id="__nav_2_12" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_12">
          Term Level Queries
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Term Level Queries" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_12">
<span class="md-nav__icon md-icon"></span>
          Term Level Queries
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/exercises/">
        Exercises
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/matching-based-on-prefixes/">
        Matching based on prefixes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/matching-documents-with-non-null-values/">
        Matching documents with non-null values
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/matching-documents-with-range-values/">
        Matching documents with range values
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/retrieving-documents-based-on-ids/">
        Retrieving documents based on IDs
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/searching-for-a-term/">
        Searching for a term
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/searching-for-multiple-terms/">
        Searching for multiple terms
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/searching-with-regular-expressions/">
        Searching with regular expressions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/searching-with-wildcards/">
        Searching with wildcards
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../Elastic_Stack/Term%20Level%20Queries/working-with-relative-dates/">
        Working with relative dates
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Elastic Stack Tutorial
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Elastic Stack Tutorial" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Elastic Stack Tutorial
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Part_1_Intro_to_Elasticsearch_%26_Kibana/">
        Part 1: Intro to Elasticsearch &amp; Kibana
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Part_2_Understanding_the_relevance_of_your_search_with_Elasticsearch_and_Kibana/">
        Part 2 Understanding the relevance of your search with Elasticsearch and Kibana
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Part_3_Running_full_text_queries_and_combined_queries_with_Elasticsearch_and_Kibana/">
        Part 3 Running full text queries and combined queries with Elasticsearch and Kibana
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Part_4_Running_Aggregations_with_Elasticsearch_and_Kibana/">
        Beginner's Crash Course to Elastic Stack Series
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Part 5 Understanding Mapping with Elasticsearch and Kibana
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Part 5 Understanding Mapping with Elasticsearch and Kibana
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#part-5-understanding-mapping-with-elasticsearch-and-kibana">
    Part 5: Understanding Mapping with Elasticsearch and Kibana
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#what-is-a-mapping">
    What is a Mapping?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#review-from-previous-workshops">
    Review from Previous Workshops
  </a>
<nav aria-label="Review from Previous Workshops" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#indexing-a-document">
    Indexing a Document
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-explained">
    Mapping Explained
  </a>
<nav aria-label="Mapping Explained" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dynamic-mapping">
    Dynamic Mapping
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#view-the-mapping">
    View the Mapping
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#indexing-strings">
    Indexing Strings
  </a>
<nav aria-label="Indexing Strings" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#text-field-type">
    Text Field Type
  </a>
<nav aria-label="Text Field Type" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#text-analysis">
    Text Analysis
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#keyword-field-type">
    Keyword Field Type
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-exercise">
    Mapping Exercise
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#defining-your-own-mapping">
    Defining your own mapping
  </a>
<nav aria-label="Defining your own mapping" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#what-if-you-do-need-to-make-changes-to-the-mapping-of-an-existing-field">
    What if you do need to make changes to the mapping of an existing field?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#runtime-field">
    Runtime Field
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Untitled/">
        Untitled
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#part-5-understanding-mapping-with-elasticsearch-and-kibana">
    Part 5: Understanding Mapping with Elasticsearch and Kibana
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#what-is-a-mapping">
    What is a Mapping?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#review-from-previous-workshops">
    Review from Previous Workshops
  </a>
<nav aria-label="Review from Previous Workshops" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#indexing-a-document">
    Indexing a Document
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-explained">
    Mapping Explained
  </a>
<nav aria-label="Mapping Explained" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dynamic-mapping">
    Dynamic Mapping
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#view-the-mapping">
    View the Mapping
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#indexing-strings">
    Indexing Strings
  </a>
<nav aria-label="Indexing Strings" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#text-field-type">
    Text Field Type
  </a>
<nav aria-label="Text Field Type" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#text-analysis">
    Text Analysis
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#keyword-field-type">
    Keyword Field Type
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mapping-exercise">
    Mapping Exercise
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#defining-your-own-mapping">
    Defining your own mapping
  </a>
<nav aria-label="Defining your own mapping" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#what-if-you-do-need-to-make-changes-to-the-mapping-of-an-existing-field">
    What if you do need to make changes to the mapping of an existing field?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#runtime-field">
    Runtime Field
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Part 5 Understanding Mapping with Elasticsearch and Kibana</h1>
<h2 id="part-5-understanding-mapping-with-elasticsearch-and-kibana">Part 5: Understanding Mapping with Elasticsearch and Kibana<a class="headerlink" href="#part-5-understanding-mapping-with-elasticsearch-and-kibana" title="Permanent link">¶</a></h2>
<h2 id="what-is-a-mapping">What is a Mapping?<a class="headerlink" href="#what-is-a-mapping" title="Permanent link">¶</a></h2>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/121580875-7953d700-c9ea-11eb-8a4c-015ea238540e.png"/></p>
<h2 id="review-from-previous-workshops">Review from Previous Workshops<a class="headerlink" href="#review-from-previous-workshops" title="Permanent link">¶</a></h2>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/121580744-55909100-c9ea-11eb-98fe-8c8491b0a7a1.png"/></p>
<h3 id="indexing-a-document">Indexing a Document<a class="headerlink" href="#indexing-a-document" title="Permanent link">¶</a></h3>
<p>The following request will index the following document.  </p>
<p>Syntax: </p>
<pre><code>POST Enter-name-of-the-index/_doc
{
  "field": "value"
}
</code></pre>
<p>Example: </p>
<pre><code>POST temp_index/_doc
{
  "name": "Pineapple",
  "botanical_name": "Ananas comosus",
  "produce_type": "Fruit",
  "country_of_origin": "New Zealand",
  "date_purchased": "2020-06-02T12:15:35",
  "quantity": 200,
  "unit_price": 3.11,
  "description": "a large juicy tropical fruit consisting of aromatic edible yellow flesh surrounded by a tough segmented skin and topped with a tuft of stiff leaves.These pineapples are sourced from New Zealand.",
  "vendor_details": {
    "vendor": "Tropical Fruit Growers of New Zealand",
    "main_contact": "Hugh Rose",
    "vendor_location": "Whangarei, New Zealand",
    "preferred_vendor": true
  }
}
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>Elasticsearch will confirm that this document has been successfully indexed into the temp_index. 
<img alt="image|500" src="https://user-images.githubusercontent.com/60980933/120387213-d5ca3e80-c2e6-11eb-8ca8-731222174724.png"/></p>
<h2 id="mapping-explained">Mapping Explained<a class="headerlink" href="#mapping-explained" title="Permanent link">¶</a></h2>
<p>Mapping determines how a document and its fields are indexed and stored by defining the type of each field.  </p>
<p><img alt="image|500" src="https://user-images.githubusercontent.com/60980933/121219417-e7f53100-c840-11eb-9848-7acb3df84227.png"/></p>
<p>It contains a list of the names and types of fields in an index. Depending on its type, each field is indexed and stored differently in Elasticsearch.  </p>
<h3 id="dynamic-mapping">Dynamic Mapping<a class="headerlink" href="#dynamic-mapping" title="Permanent link">¶</a></h3>
<p>When a user does not define mapping in advance, Elasticsearch creates or updates the mapping as needed by default. This is known as <code>dynamic mapping</code>. </p>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/121590398-83c79e00-c9f5-11eb-95f8-e32654447359.png"/></p>
<p>With <code>dynamic mapping</code>, Elasticsearch looks at each field and tries to infer the data type from the field content. Then, it assigns a type to each field and creates a list of field names and types known as mapping.  </p>
<p>Depending on the assigned field type, each field is indexed and primed for different types of requests(full text search, aggregations, sorting). This is why mapping plays an important role in how Elasticsearch stores and searches for data. </p>
<h3 id="view-the-mapping">View the Mapping<a class="headerlink" href="#view-the-mapping" title="Permanent link">¶</a></h3>
<p>Syntax:</p>
<pre><code>GET Enter_name_of_the_index_here/_mapping
</code></pre>
<p>Example:</p>
<pre><code>GET temp_index/_mapping
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>Elasticsearch returns the mapping of the temp_index. It lists all the fields of the document in an alphabetical order and lists the type of each field(text, keyword, long, float, date, boolean and etc). </p>
<p><img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121591969-5c71d080-c9f7-11eb-95dc-70f04276929a.png"/>
<img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121592051-76131800-c9f7-11eb-8820-d3d2b39e1e4f.png"/>
<img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121592106-83c89d80-c9f7-11eb-97fc-56d23b0242ae.png"/></p>
<p>For the list of all field types, click <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html">here</a>!</p>
<h3 id="indexing-strings">Indexing Strings<a class="headerlink" href="#indexing-strings" title="Permanent link">¶</a></h3>
<p>There are two kinds of string field types:
1. Text
2. Keyword</p>
<p>By default, every string gets mapped twice as a text field and as a keyword multi-field. Each field type is primed for different types of requests. </p>
<p><code>Text</code> field type is designed for full-text searches. </p>
<p><code>Keyword</code>field type is designed for exact searches, aggregations, and sorting.</p>
<p>You can customize your mapping by assigning the field type as either text or keyword or both! </p>
<h4 id="text-field-type">Text Field Type<a class="headerlink" href="#text-field-type" title="Permanent link">¶</a></h4>
<h5 id="text-analysis">Text Analysis<a class="headerlink" href="#text-analysis" title="Permanent link">¶</a></h5>
<p>Ever notice that when you search in Elasticsearch, it is not case sensitive or punctuation does not seem to matter? This is because <code>text analysis</code> occurs when your fields are indexed. </p>
<p>By default, strings are analyzed when it is indexed. The string is broken up into individual words also known as tokens. The analyzer further lowercases each token and removes punctuations. </p>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/120847933-672cf100-c531-11eb-9b9c-522c354b0e10.png"/></p>
<p><strong>Inverted Index</strong>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121099236-b33b9800-c7b4-11eb-837b-a914ed8e3725.png"/>
Once the string is analyzed, the individual tokens are stored in a sorted list known as the <code>inverted index</code>. Each unique token is stored in the <code>inverted index</code> with its associated ID. </p>
<p>The same process occurs every time you index a new document. </p>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/122119940-0d58e080-cde7-11eb-903b-54a628b8de60.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/122119962-147fee80-cde7-11eb-915e-3531c405a315.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/122119979-19dd3900-cde7-11eb-86e4-274b5e44fec2.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/122120075-324d5380-cde7-11eb-9b4e-744dfa6d527d.png"/></p>
<h4 id="keyword-field-type">Keyword Field Type<a class="headerlink" href="#keyword-field-type" title="Permanent link">¶</a></h4>
<p><code>Keyword</code> field type is used for aggregations, sorting, and exact searches. These actions look up the document ID to find the values it has in its fields. </p>
<p><code>Keyword</code> field is suited to perform these actions because it uses a data structure called <code>doc values</code> to store data. </p>
<p>For each document, the document id along with the field value(original string) are added to the table. This data structure(<code>doc values</code>) is designed for actions that require looking up the document ID to find the values it has in its fields.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/121603436-fccef180-ca05-11eb-817e-cb77b46ae969.png"/></p>
<p>When Elasticsearch dynamically creates a mapping for you, it does not know what you want to use a string for so it maps all strings to both field types. </p>
<p>In cases where you do not need both field types, the default setting is wasteful. Since both field types require creating either an inverted index or doc values, creating both field types for unnecessary fields will slow down indexing and take up more disk space.</p>
<p>This is why we define our own mapping as it helps us store and search data more efficiently.</p>
<h3 id="mapping-exercise">Mapping Exercise<a class="headerlink" href="#mapping-exercise" title="Permanent link">¶</a></h3>
<p><strong>Project</strong>: Build an app for a client who manages a produce warehouse </p>
<p><strong>This app must enable users to:</strong> 
1. search for produce name, country of origin and description</p>
<ol>
<li>
<p>identify top countries of origin with the most frequent purchase history</p>
</li>
<li>
<p>sort produce by produce type(Fruit or Vegetable)</p>
</li>
<li>
<p>get the summary of monthly expense</p>
</li>
</ol>
<p><strong>Sample data</strong></p>
<pre><code>{
  "name": "Pineapple",
  "botanical_name": "Ananas comosus",
  "produce_type": "Fruit",
  "country_of_origin": "New Zealand",
  "date_purchased": "2020-06-02T12:15:35",
  "quantity": 200,
  "unit_price": 3.11,
  "description": "a large juicy tropical fruit consisting of aromatic edible yellow flesh surrounded by a tough segmented skin and topped with a tuft of stiff leaves.These pineapples are sourced from New Zealand.",
  "vendor_details": {
    "vendor": "Tropical Fruit Growers of New Zealand",
    "main_contact": "Hugh Rose",
    "vendor_location": "Whangarei, New Zealand",
    "preferred_vendor": true
  }
}
</code></pre>
<p><strong>Plan of Action</strong>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121710560-f89ee480-ca96-11eb-98c5-ba9a535e4360.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/122120548-cc150080-cde7-11eb-8613-a4ec5a5c115e.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121604184-4c61ed00-ca07-11eb-84f8-208c3e927a08.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/122100555-8ac52680-cdd0-11eb-843f-556fa5313e15.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121749036-3b78b080-cac7-11eb-8706-561a1bb61315.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121749523-09b41980-cac8-11eb-8214-e986760e5d96.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/122100826-d972c080-cdd0-11eb-995c-048e6709ef57.png"/></p>
<h3 id="defining-your-own-mapping">Defining your own mapping<a class="headerlink" href="#defining-your-own-mapping" title="Permanent link">¶</a></h3>
<p><strong>Rules</strong>
1. If you do not define a mapping ahead of time, Elasticsearch dynamically creates the mapping for you.
2. If you do decide to define your own mapping, you can do so at index creation.
3. ONE mapping is defined per index. Once the index has been created, we can only add <em>new</em> fields to a mapping. We CANNOT change the mapping of an <em>existing</em> field. 
4. If you must change the type of an existing field, you must create a new index with the desired mapping, then reindex all documents into the new index. </p>
<p><strong>Step 1: Index a sample document into a test index.</strong></p>
<p>The sample document must contain the fields that you want to define. These fields must also contain values that map closely to the field types you want. </p>
<p>Syntax:</p>
<pre><code>POST Name-of-test-index/_doc
{
  "field": "value"
}
</code></pre>
<p>Example:</p>
<pre><code>POST test_index/_doc
{
  "name": "Pineapple",
  "botanical_name": "Ananas comosus",
  "produce_type": "Fruit",
  "country_of_origin": "New Zealand",
  "date_purchased": "2020-06-02T12:15:35",
  "quantity": 200,
  "unit_price": 3.11,
  "description": "a large juicy tropical fruit consisting of aromatic edible yellow flesh surrounded by a tough segmented skin and topped with a tuft of stiff leaves.These pineapples are sourced from New Zealand.",
  "vendor_details": {
    "vendor": "Tropical Fruit Growers of New Zealand",
    "main_contact": "Hugh Rose",
    "vendor_location": "Whangarei, New Zealand",
    "preferred_vendor": true
  }
}
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>The test_index is successfully created. 
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121616770-c81c6380-ca20-11eb-9f3a-593e61eff319.png"/></p>
<p><strong>Step 2: View the dynamic mapping</strong> </p>
<p>Syntax:</p>
<pre><code>GET Name-the-index-whose-mapping-you-want-to-view/_mapping
</code></pre>
<p>Example:</p>
<pre><code>GET test_index/_mapping
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>Elasticsearch will display the mapping it has created. It lists the fields in an alphabetical order. This document is identical to the one we indexed into the temp_index. To save space, the screenshots of the mapping has not been included here. </p>
<p><strong>Step 3: Edit the mapping</strong></p>
<p>Copy and paste the mapping from step 2 into the Kibana console. From the pasted results, remove the "test_index" along with its opening and closing brackets. Then, edit the mapping to satisfy the requirements outlined in the figure below.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/122103275-ad0c7380-cdd3-11eb-9a74-babe7442e5b3.png"/></p>
<p>The optimized mapping should look like the following: </p>
<pre><code>{
  "mappings": {
    "properties": {
      "botanical_name": {
        "enabled": false
      },
      "country_of_origin": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword"
          }
        }
      },
      "date_purchased": {
        "type": "date"
      },
      "description": {
        "type": "text"
      },
      "name": {
        "type": "text"
      },
      "produce_type": {
        "type": "keyword"
      },
      "quantity": {
        "type": "long"
      },
      "unit_price": {
        "type": "float"
      },
      "vendor_details": {
        "enabled": false
      }
    }
  }
}
</code></pre>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/122103954-68350c80-cdd4-11eb-82c4-83b47bc364dc.png"/></p>
<p><strong>Step 4: Create a new index with the optimized mapping from step 3.</strong> </p>
<p>Syntax:</p>
<pre><code>PUT Name-of-your-final-index
{
  copy and paste your edited mapping here
}
</code></pre>
<p>Example: </p>
<pre><code>PUT produce_index
{
  "mappings": {
    "properties": {
      "botanical_name": {
        "enabled": false
      },
      "country_of_origin": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword"
          }
        }
      },
      "date_purchased": {
        "type": "date"
      },
      "description": {
        "type": "text"
      },
      "name": {
        "type": "text"
      },
      "produce_type": {
        "type": "keyword"
      },
      "quantity": {
        "type": "long"
      },
      "unit_price": {
        "type": "float"
      },
      "vendor_details": {
        "enabled": false
      }
    }
  }
}
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>Elasticsearch creates a produce_index with the customized mapping we defined above! </p>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/121618138-89d47380-ca23-11eb-96e3-68204da782dc.png"/></p>
<p><strong>Step 5: Check the mapping of the new index to make sure the all the fields have been mapped correctly</strong></p>
<p>Syntax:</p>
<pre><code>GET Name-of-test-index/_mapping
</code></pre>
<p>Example:</p>
<pre><code>GET produce_index/_mapping
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>Compared to the <code>dynamic mapping</code>, our optimized mapping looks more simple and concise!  The current mapping satisfies the requirements that are marked with green check marks. </p>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/121619679-3879b380-ca26-11eb-9ac9-ed19a52c05c2.png"/>
<img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121619466-e5076580-ca25-11eb-8c59-ec2caf3ddb50.png"/>
<img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121619506-f5b7db80-ca25-11eb-9916-fea11e8fd79d.png"/></p>
<p><strong>Step 6: Index your dataset into the new index</strong></p>
<p>For simplicity's sake, we will index two documents. </p>
<p><em>Index the first document</em></p>
<pre><code>POST produce_index/_doc
{
  "name": "Pineapple",
  "botanical_name": "Ananas comosus",
  "produce_type": "Fruit",
  "country_of_origin": "New Zealand",
  "date_purchased": "2020-06-02T12:15:35",
  "quantity": 200,
  "unit_price": 3.11,
  "description": "a large juicy tropical fruit consisting of aromatic edible yellow flesh surrounded by a tough segmented skin and topped with a tuft of stiff leaves.These pineapples are sourced from New Zealand.",
  "vendor_details": {
    "vendor": "Tropical Fruit Growers of New Zealand",
    "main_contact": "Hugh Rose",
    "vendor_location": "Whangarei, New Zealand",
    "preferred_vendor": true
  }
}
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>Elasticsearch successfully indexes the first document. 
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121621403-5563b600-ca29-11eb-8ee9-83686a937fd2.png"/></p>
<p><em>Index the second document</em></p>
<p>The second document has almost identical fields as the first document except that it has an extra field called "organic" set to true!</p>
<pre><code>POST produce_index/_doc
{
  "name": "Mango",
  "botanical_name": "Harum Manis",
  "produce_type": "Fruit",
  "country_of_origin": "Indonesia",
  "organic": true,
  "date_purchased": "2020-05-02T07:15:35",
  "quantity": 500,
  "unit_price": 1.5,
  "description": "Mango Arumanis or Harum Manis is originated from East Java. Arumanis means harum dan manis or fragrant and sweet just like its taste. The ripe Mango Arumanis has dark green skin coated with thin grayish natural wax. The flesh is deep yellow, thick, and soft with little to no fiber. Mango Arumanis is best eaten when ripe.",
  "vendor_details": {
    "vendor": "Ayra Shezan Trading",
    "main_contact": "Suharto",
    "vendor_location": "Binjai, Indonesia",
    "preferred_vendor": true
  }
}
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>Elasticsearch successfully indexes the second document. 
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121621463-73c9b180-ca29-11eb-9849-955b8d7872fb.png"/></p>
<p>Let's see what happens to the mapping by sending this request below: </p>
<pre><code>GET produce_index/_mapping
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>The new field("organic") and its field type(boolean) have been added to the mapping. This is in line with the rules of mapping we discussed earlier since you can add <em>new</em> fields to the mapping. We just cannot change the mapping of an <em>existing</em> field! </p>
<p><img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121694928-d2257d00-ca87-11eb-9141-77143d59081a.png"/>
<img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121694969-db164e80-ca87-11eb-9ddf-479af3077c46.png"/></p>
<h4 id="what-if-you-do-need-to-make-changes-to-the-mapping-of-an-existing-field">What if you do need to make changes to the mapping of an existing field?<a class="headerlink" href="#what-if-you-do-need-to-make-changes-to-the-mapping-of-an-existing-field" title="Permanent link">¶</a></h4>
<p>Let's say your client changed his mind. He wants to run only full text search on the field "botanical_name" we disabled earlier. </p>
<p>Remember, you CANNOT change the mapping of an <em>existing</em> field. If you do need to make changes to an existing field, you must create a new index with the desired mapping, then reindex all documents into the new index. </p>
<p><strong>STEP 1: Create a new index(produce_v2) with the latest mapping.</strong></p>
<p>We removed the "enabled" parameter from the field "botanical_name" and changed its type to "text". </p>
<p>Example:</p>
<pre><code>PUT produce_v2
{
  "mappings": {
    "properties": {
      "botanical_name": {
        "type": "text"
      },
      "country_of_origin": {
        "type": "text",
        "fields": {
          "keyword": {
            "type": "keyword",
            "ignore_above": 256
          }
        }
      },
      "date_purchased": {
        "type": "date"
      },
      "description": {
        "type": "text"
      },
      "name": {
        "type": "text"
      },
      "organic": {
        "type": "boolean"
      },
      "produce_type": {
        "type": "keyword"
      },
      "quantity": {
        "type": "long"
      },
      "unit_price": {
        "type": "float"
      },
      "vendor_details": {
        "type": "object",
        "enabled": false
      }
    }
  }
}
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>Elasticsearch creates a new index(produce_v2) with the latest mapping. 
<img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121725821-fb093a80-caa6-11eb-8e76-aa84704fb951.png"/></p>
<p>If you check the mapping, you will see that the filed "botanical_name" has been typed as text. </p>
<p><strong>View the mapping of produce_v2:</strong></p>
<pre><code>GET produce_v2/_mapping
</code></pre>
<p>Expected response from Elasticsearch:
<img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121725730-e036c600-caa6-11eb-8b9d-5a9ca0a72a3c.png"/>
<img alt="image|700" src="https://user-images.githubusercontent.com/60980933/121725765-e88f0100-caa6-11eb-9610-97cbf980e6c2.png"/></p>
<p><strong>STEP 2: Reindex the data from the original index(produce_index) to the one you just created(produce_v2).</strong></p>
<pre><code>POST _reindex
{
  "source": {
    "index": "produce_index"
  },
  "dest": {
    "index": "produce_v2"
  }
}
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>This request reindexes data from the produce_index to the produce_v2 index. The produce_v2 index can now be used to run the requests that the client has specified.</p>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/121726550-ee391680-caa7-11eb-89a9-be1d4416e0e3.png"/></p>
<h4 id="runtime-field">Runtime Field<a class="headerlink" href="#runtime-field" title="Permanent link">¶</a></h4>
<p><img alt="image" src="https://user-images.githubusercontent.com/60980933/122100555-8ac52680-cdd0-11eb-843f-556fa5313e15.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121749036-3b78b080-cac7-11eb-8706-561a1bb61315.png"/>
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121749523-09b41980-cac8-11eb-8214-e986760e5d96.png"/></p>
<p><strong>Step 1: Create a <code>runtime field</code> and add it to the mapping of the existing index.</strong> </p>
<p>Syntax:</p>
<pre><code>PUT Enter-name-of-index/_mapping
{
  "runtime": {
    "Name-your-runtime-field-here": {
      "type": "Specify-field-type-here",
      "script": {
        "source": "Specify the formula you want executed"
      }
    }
  }
}
</code></pre>
<p>Example:</p>
<pre><code>PUT produce_v2/_mapping
{
  "runtime": {
    "total": {
      "type": "double",
      "script": {
        "source": "emit(doc['unit_price'].value* doc['quantity'].value)"
      }
    }
  }
}
</code></pre>
<p>Expected response from Elasticsearch: </p>
<p>Elasticsearch successfully adds the <code>runtime field</code> to the mapping. 
<img alt="image" src="https://user-images.githubusercontent.com/60980933/121744031-8393d500-cabf-11eb-850c-2e13cf79a92a.png"/></p>
<p><strong>Step 2: Check the mapping:</strong></p>
<pre><code>GET produce_v2/_mapping
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>Elasticsearch adds a <code>runtime field</code> to the mapping(red box).</p>
<p><img alt="image|900" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yi1u4cpx7gl65udiuvr3.png"/></p>
<p>Note that the <code>runtime field</code> is not listed under "properties" object which includes the fields in our documents. This is because the <code>runtime field</code> "total" is not indexed!</p>
<p><strong>Step 3: Run a request on the <code>runtime field</code> to see it perform its magic!</strong> </p>
<p>Please note that the following request does not aggregate the monthly expense here. We are running a simple aggregation request to demonstrate how <code>runtime field</code> works!  </p>
<p>The following request runs a sum aggregation against the <code>runtime field</code> total of all documents in our index. </p>
<p>Syntax:</p>
<pre><code>GET Enter_name_of_the_index_here/_search
{
  "size": 0,
  "aggs": {
    "Name your aggregations here": {
      "Specify the aggregation type here": {
        "field": "Name the field you want to aggregate on here"
      }
    }
  }
}
</code></pre>
<p>Example:</p>
<pre><code>GET produce_v2/_search
{
  "size": 0,
  "aggs": {
    "total_expense": {
      "sum": {
        "field": "total"
      }
    }
  }
}
</code></pre>
<p>Expected response from Elasticsearch:</p>
<p>When this request is sent, a <code>runtime field</code> called "total" is created and calculated for documents within the scope of our request(entire index). Then, the sum aggregation is ran on the field "total" over all documents in our index.</p>
<p><img alt="image|500" src="https://user-images.githubusercontent.com/60980933/121815555-50268700-cc34-11eb-8fb4-8112cb8e0806.png"/></p>
<p>The <code>runtime field</code> is only created and calculated when a request made on the <code>runtime field</code> is being executed. <code>Runtime fields</code> are not indexed so these do not take up disk space.  </p>
<p>We also did not have to reindex in order to add a new field to existing documents. For more information on runtime fields, check out this <a href="https://www.elastic.co/blog/introducing-elasticsearch-runtime-fields">blog</a>! </p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Beginner's Crash Course to Elastic Stack Series" class="md-footer__link md-footer__link--prev" href="../Part_4_Running_Aggregations_with_Elasticsearch_and_Kibana/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Beginner's Crash Course to Elastic Stack Series
            </div>
</div>
</a>
<a aria-label="Next: Untitled" class="md-footer__link md-footer__link--next" href="../Untitled/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Untitled
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.37e9125f.min.js"></script>
<script src="../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</body>
</html>